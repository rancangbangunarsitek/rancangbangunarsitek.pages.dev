jQuery(document).ready(function(d){function f(e){e=e.find("[data-pafe-signature] canvas.not-resize");0<e.length&&e.each(function(){var e=parseInt(d(this).css("max-width").replace("px","")),t=(parseInt(d(this).css("height").replace("px","")),parseInt(d(this).closest(".madxartwork-form-fields-wrapper").width()));0<t&&(t<e?d(this).attr("width",t):d(this).attr("width",e),d(this).removeClass("not-resize"))})}function e(e){var t=e.closest(".pafe-multi-step-form__content-item");t.find("[data-pafe-form-builder-form-id]").data("pafe-form-builder-form-id");t.removeClass("active"),t.next().addClass("active");var a=t.next().index();e.closest(".pafe-multi-step-form").find(".pafe-multi-step-form__progressbar-item").eq(a).addClass("active");var i,o=e.closest("[data-pafe-multi-step-form-scroll-to-top]");0<o.length&&(i=d("[data-pafe-break-point-md]").data("pafe-break-point-md"),(a=d("[data-pafe-break-point-lg]").data("pafe-break-point-lg"))<=(e=window.innerWidth)&&d("html, body").animate({scrollTop:o.offset().top-o.data("pafe-multi-step-form-scroll-to-top-offset-desktop")},300),i<=e&&e<a&&d("html, body").animate({scrollTop:o.offset().top-o.data("pafe-multi-step-form-scroll-to-top-offset-tablet")},300),e<i&&d("html, body").animate({scrollTop:o.offset().top-o.data("pafe-multi-step-form-scroll-to-top-offset-mobile")},300)),f(t.next())}d(document).on("click",'[data-pafe-form-builder-nav="next"]',function(){var e,t,a=d(this).data("pafe-form-builder-nav-form-id"),i=d(this).closest(".pafe-multi-step-form__content-item"),o=i.find("[data-pafe-form-builder-form-id="+a+"]"),l=(void 0!==d(this).data("pafe-form-builder-required-text")?d(this):d(document).find('[data-pafe-form-builder-submit-form-id="'+a+'"]')).data("pafe-form-builder-required-text"),s=0,r=!1;o.each(function(){var e,t,a,i,o;null==d(this).data("pafe-form-builder-stripe")&&null==d(this).data("pafe-form-builder-html")&&((a=0)<(i=d(this).closest(".madxartwork-field-type-checkbox.madxartwork-field-required")).length&&(a=i.find("input[type=checkbox]:checked").length),null!=d(this).attr("oninvalid")&&(l=d(this).attr("oninvalid").replace("this.setCustomValidity('","").replace("')","")),e=d(this)[0].checkValidity(),t=d(d(this)[0]).next()[0],d(t).hasClass("flatpickr-mobile")&&(e=t.checkValidity()),(!e||0==a&&0<i.length)&&0==d(this).closest(".pafe-form-builder-conditional-logic-hidden").length&&"none"!=d(this).closest("[data-pafe-form-builder-conditional-logic]").css("display")&&null==d(this).data("pafe-form-builder-honeypot")&&0==d(this).closest("[data-pafe-signature]").length||0==a&&0<i.length&&"none"!=d(this).closest(".madxartwork-element").css("display")?("none"==d(this).css("display")||"none"==d(this).closest("div").css("display")||null!=d(this).data("pafe-form-builder-image-select")||0<i.length?(d(this).closest(".madxartwork-field-group").find("[data-pafe-form-builder-required]").html(l),0===(o=d(this).closest(".madxartwork-field-group").find("[data-pafe-form-builder-required]").next()).length||r||(d("html, body").animate({scrollTop:o.offset().top},500),r=!0)):r||null!=d(this).data("pafe-form-builder-image-select")||(d(this)[0].reportValidity(),r=!0),s++):""==d(this).val()&&0==d(this).closest(".pafe-form-builder-conditional-logic-hidden").length&&"true"==d(this).attr("aria-required")&&void 0!==d(this).attr("data-pafe-form-builder-select-autocomplete")?(d(this).closest(".madxartwork-field-group").find("[data-pafe-form-builder-required]").html(l),s++):(null!=d(this).data("pafe-form-builder-image-select")&&(d(this).closest(".pafe-image-select-field").find(".image_picker_selector").find(".selected").length<d(this).data("pafe-form-builder-image-select-min-select")?(d(this).closest(".madxartwork-field-group").find("[data-pafe-image_select_min_select_check]").html(d(this).data("pafe-form-builder-image-select-min-select-message")).fadeIn(),s++):d(this).closest(".madxartwork-field-group").find("[data-pafe-image_select_min_select_check]").fadeOut()),a=d(this).closest(".pafe-field-container").find("label"),i=d(this).closest(".pafe-field-container"),o=1,null!=a.attr("data-pafe-form-builder-image-upload-min-files")&&(o=parseInt(a.attr("data-pafe-form-builder-image-upload-min-files")),i.find(".pafe-form-builder-image-upload-uploaded").length<o?(i.find("[data-pafe-form-builder-image-upload-check]").html(a.attr("data-pafe-form-builder-image-upload-min-files-message")),s++):i.find("[data-pafe-form-builder-image-upload-check]").remove()),d(this).closest(".madxartwork-field-group").find("[data-pafe-form-builder-required]").html(""),null!=d(this).data("pafe-flatpickr-custom-options")&&""==d(this).val()&&0==d(this).closest(".pafe-form-builder-conditional-logic-hidden").length&&null!=d(this).attr("required")&&(d(this).closest(".madxartwork-field-group").find("[data-pafe-form-builder-required]").html(l),s++),0<d(this).closest("[data-pafe-signature]").length&&(d(this).closest("[data-pafe-signature]").find("[data-pafe-signature-export]").trigger("click"),""==d(this).val()&&0==d(this).closest(".pafe-form-builder-conditional-logic-hidden").length&&null!=d(this).attr("required")&&(d(this).closest(".madxartwork-field-group").find("[data-pafe-form-builder-required]").html(l),s++))))}),0==s&&(i.removeClass("active"),i.next().addClass("active"),t=i.next().index(),d(this).closest(".pafe-multi-step-form").find(".pafe-multi-step-form__progressbar-item").eq(t).addClass("active"),0<(e=d(this).closest("[data-pafe-multi-step-form-scroll-to-top]")).length&&(a=d("[data-pafe-break-point-md]").data("pafe-break-point-md"),(o=d("[data-pafe-break-point-lg]").data("pafe-break-point-lg"))<=(t=window.innerWidth)&&d("html, body").animate({scrollTop:e.offset().top-e.data("pafe-multi-step-form-scroll-to-top-offset-desktop")},300),a<=t&&t<o&&d("html, body").animate({scrollTop:e.offset().top-e.data("pafe-multi-step-form-scroll-to-top-offset-tablet")},300),t<a&&d("html, body").animate({scrollTop:e.offset().top-e.data("pafe-multi-step-form-scroll-to-top-offset-mobile")},300)),f(i.next()))}),d(document).on("change","[data-pafe-form-builder-multi-step-form-autonext]",function(){e(d(this))}),d(document).on("click",".image_picker_selector>li>div",function(){0<d(this).closest(".madxartwork-field").find("[data-pafe-form-builder-multi-step-form-autonext]").length&&e(d(this))}),d(document).on("click",'[data-pafe-form-builder-nav="prev"]',function(){d(this).data("pafe-form-builder-nav-form-id");var e=d(this).closest(".pafe-multi-step-form__content-item");e.removeClass("active"),e.prev().addClass("active");var t=e.index();d(this).closest(".pafe-multi-step-form").find(".pafe-multi-step-form__progressbar-item").eq(t).removeClass("active");var a,i=d(this).closest("[data-pafe-multi-step-form-scroll-to-top]");0<i.length&&(a=d("[data-pafe-break-point-md]").data("pafe-break-point-md"),(e=d("[data-pafe-break-point-lg]").data("pafe-break-point-lg"))<=(t=window.innerWidth)&&d("html, body").animate({scrollTop:i.offset().top-i.data("pafe-multi-step-form-scroll-to-top-offset-desktop")},300),a<=t&&t<e&&d("html, body").animate({scrollTop:i.offset().top-i.data("pafe-multi-step-form-scroll-to-top-offset-tablet")},300),t<a&&d("html, body").animate({scrollTop:i.offset().top-i.data("pafe-multi-step-form-scroll-to-top-offset-mobile")},300))});function t(e,o){let t=e.find(".madxartwork-section-wrap>section, .madxartwork>section, .madxartwork>.e-container, .madxartwork>.e-con"),l=e.find("[data-pafe-forms-multistep-progressbar]");t.each(function(e,t){o(this).addClass("pafe-multi-step-form__content-item");var a=0==e?"active":"",i=void 0!==o(this).attr("data-pafe-forms-multistep-title")?o(this).attr("data-pafe-forms-multistep-title"):"";o(this).addClass(a);i='<div class="pafe-multi-step-form__progressbar-item '+a+'">\t\t\t\t\t<div class="pafe-multi-step-form__progressbar-item-step-number">\t\t\t\t\t\t<div class="pafe-multi-step-form__progressbar-item-step">'+parseInt(e+1)+'</div>\t\t\t\t\t</div>\t\t\t\t\t<div class="pafe-multi-step-form__progressbar-item-title">'+i+"</div>\t\t\t\t</div>";l.append(i)})}d(window).on("madxartwork/frontend/init",function(){madxartworkFrontend.hooks.addAction("frontend/element_ready/pafe-forms.default",t)})});